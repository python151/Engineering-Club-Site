{% extends "headers/main.htm" %}

{% block head %}
{% endblock head %}

{% block body %}
<script>
    var red = function(x) {
        window.location = x.replace('"', '').replace('"', '');
    }
    
    function fun(){
            var url = "/adminLogin/";
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value
            var params = "email="+email+"&password="+password;
            ajax(url, params, red);
        }

    function getSelectedText(elementId) {
        var elt = document.getElementById(elementId);

        return elt.options[elt.selectedIndex].text;
    }

    function fun1(){
            var url = "/signup1/";
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;
            var name = document.getElementById("name").value;
            var age = document.getElementById("age").value;
            var group = getSelectedText('group');
            var params = "email="+email+"&password="+password+"&name="+name+"&age="+age+"&group="+group;
            ajax(url, params, red);
        }


    function getSelectedText(elementId) {
        var elt = document.getElementById(elementId);

        return elt.options[elt.selectedIndex].text;
    }

var subs = function() { //please explain what this function does
    var name = document.getElementById('name').value;
    var content = document.getElementById('content').value;
    var group = getSelectedText('group');

    url = '/addtodo/';
    params = 'name='+name+'&content='+content+'&group='+group;

    ajax(url, params, console.log);
}


var del = function(i) { //please explain what this function does
    var name = document.getElementById(i).innerHTML;
    console.log(name)
    var url = '/del/'

    var params = 'name='+name;

    ajax(url, params, red)
}
    </script>

<style>
.form {
    align-self: center;
}

form *{
    display: block;
}
</style>

    <script src="static/js/ajax.js"></script>

    <div class="container">
    <div class="level" style="float: right;">{{session.get('level')}}</div>
    <div class="form">
        <h1>Add Todo Item</h1>
    <input type="text" id="name" placeholder="name"><br>
    <select id='group'>
      <option>Programming</option>
      <option>Robot</option>
      <option>Marketing</option>
    </select><br>
    <textarea type="text" id="content" placeholder="content"></textarea><br>
    <button onclick="subs()" id="btn">Submit</button>
    </div>

    {% if session.get('level') == 10 %}
    <div class="form">
        <h1>Admin Signup</h1>
    <script src="static/js/ajax.js"></script>
        email:<input type="email" class="input" placeholder="email" id="email">
        <br>password:<input type="password" class="input" placeholder="password" id="password">
        <br>name:<input type="text" class="input" placeholder="name" id="name">
        <br>age:<input type="text" class="input" placeholder="age" id="age">
        <br>level:<select id='level'>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
        </select>
        <button class="btn btn-primary" onclick='fun1()'>Register</button>
    </div>{% endif %}
    </div>


{% endblock body %}